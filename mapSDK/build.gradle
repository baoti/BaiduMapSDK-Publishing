apply plugin: 'com.android.library'

android {
    compileSdkVersion androidCompileSdkVersion
    buildToolsVersion androidBuildToolsVersion

    defaultConfig {
        minSdkVersion 7
        consumerProguardFiles 'proguard-rules.pro'
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
}

apply plugin: 'maven-publish'

version = '3.5.0'
description = '百度地图Android SDK v3.5.0'

publishing {
    repositories publishingRepositories

    publications {
        aar(MavenPublication) {
            artifactId 'map-all'
            artifact "build/outputs/aar/${project.name}-release.aar"
        }
    }
}

project.tasks.publish.dependsOn(project.tasks.build)
project.tasks.publishToMavenLocal.dependsOn(project.tasks.build)

model {
    tasks.generatePomFileForAarPublication {
        destination = file("$buildDir/generated-pom.xml")
    }
}
